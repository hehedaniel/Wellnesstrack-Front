<div class="page-container">
   @if (existeData){
   <div class="divPropuestas">
      <p-accordion [activeIndex]="acordeonMostar[0]" class="content">
         <div class="titulo">
            <h1>Propuestas para administrar</h1>
         </div>
         <!-- Acordeón para los ejercicios propuestos -->
         <p-accordionTab class="acordeonPropuestas" header="Ejercicios propuestos para administrar">
            <div class="table-wrapper">
               @if (existeDataEjercicio) {
               <table mat-table [dataSource]="dataSourceEjercicio" matSort>
                  <!-- id Ejercicio Column -->
                  <ng-container matColumnDef="id">
                     <th *matHeaderCellDef mat-sort-header>id Ejercicio</th>
                     <td mat-cell *matCellDef="let row">{{ row.id }}</td>
                  </ng-container>

                  <!-- Nombre Column -->
                  <ng-container matColumnDef="idUsuario">
                     <th *matHeaderCellDef mat-sort-header>id Usuario</th>
                     <td mat-cell *matCellDef="let row">{{ row.idUsuario }}</td>
                  </ng-container>

                  <!-- Nombre Column -->
                  <ng-container matColumnDef="nombre">
                     <th *matHeaderCellDef mat-sort-header>Nombre</th>
                     <td mat-cell *matCellDef="let row">{{ row.nombre }}</td>
                  </ng-container>

                  <!-- Acciones Column -->
                  <ng-container matColumnDef="acciones">
                     <th *matHeaderCellDef>Acciones</th>
                     <td mat-cell class="td-acciones" *matCellDef="let row">
                        <div class="acciones-container">
                           <img
                              class="edit-button fakeButton"
                              src="../../../assets/icons/editBlack12.svg"
                              (click)="administrarEjercicio(row)"
                              alt=""
                           />
                        </div>
                     </td>
                  </ng-container>

                  <tr mat-header-row *matHeaderRowDef="displayedColumnsEjercicio"></tr>
                  <tr mat-row *matRowDef="let row; columns: displayedColumnsEjercicio"></tr>
               </table>
               } @else if (sinDatosEjercicio){
               <div class="divNoData">
                  <h3>No hay ejercicios propuestos para revisar</h3>
               </div>
               } @else {
               <div class="loading-container">
                  <mat-spinner></mat-spinner>
                  <p>Buscando propuestas que revisar...</p>
               </div>
               }
            </div>
         </p-accordionTab>

         <!-- Acordeón para las comidas propuestas -->
         <p-accordionTab class="acordeonPropuestas" header="Comidas propuestas para administrar">
            <div class="table-wrapper">
               @if (existeDataComida) {
               <table mat-table [dataSource]="dataSourceComida" matSort>
                  <!-- id Comida Column -->
                  <ng-container matColumnDef="id">
                     <th *matHeaderCellDef mat-sort-header>id Comida</th>
                     <td mat-cell *matCellDef="let row">{{ row.id }}</td>
                  </ng-container>

                  <!-- id Usuario Column -->
                  <ng-container matColumnDef="idUsuario">
                     <th *matHeaderCellDef mat-sort-header>id Usuario</th>
                     <td mat-cell *matCellDef="let row">{{ row.idUsuario }}</td>
                  </ng-container>

                  <!-- Nombre Column -->
                  <ng-container matColumnDef="nombre">
                     <th *matHeaderCellDef mat-sort-header>Nombre</th>
                     <td mat-cell *matCellDef="let row">{{ row.nombre }}</td>
                  </ng-container>

                  <!-- Acciones Column -->
                  <ng-container matColumnDef="acciones">
                     <th *matHeaderCellDef>Acciones</th>
                     <td mat-cell class="td-acciones" *matCellDef="let row">
                        <div class="acciones-container">
                           <img class="edit-button fakeButton" src="../../../assets/icons/editBlack12.svg" (click)="administrarComida(row)" alt="" />
                        </div>
                     </td>
                  </ng-container>

                  <tr mat-header-row *matHeaderRowDef="displayedColumnsComida"></tr>
                  <tr mat-row *matRowDef="let row; columns: displayedColumnsComida"></tr>
               </table>
               } @else if (sinDatosComida){
               <div class="divNoData">
                  <h3>No hay comidas propuestas para revisar</h3>
               </div>
               } @else {
               <div class="loading-container">
                  <mat-spinner></mat-spinner>
                  <p>Buscando propuestas que revisar...</p>
               </div>
               }
            </div>
         </p-accordionTab>

         <!-- Acordeoón para las recetas propuesta -->
         <p-accordionTab class="acordeonPropuestas" header="Recetas propuestos para administrar">
            <div class="table-wrapper">
               @if (existeDataReceta) {
               <table mat-table [dataSource]="dataSourceReceta" matSort>
                  <!-- id Ejercicio Column -->
                  <ng-container matColumnDef="id">
                     <th *matHeaderCellDef mat-sort-header>id Ejercicio</th>
                     <td mat-cell *matCellDef="let row">{{ row.id }}</td>
                  </ng-container>

                  <!-- Nombre Column -->
                  <ng-container matColumnDef="idUsuario">
                     <th *matHeaderCellDef mat-sort-header>id Usuario</th>
                     <td mat-cell *matCellDef="let row">{{ row.idUsuario }}</td>
                  </ng-container>

                  <!-- Nombre Column -->
                  <ng-container matColumnDef="nombre">
                     <th *matHeaderCellDef mat-sort-header>Nombre</th>
                     <td mat-cell *matCellDef="let row">{{ row.nombre }}</td>
                  </ng-container>

                  <!-- Acciones Column -->
                  <ng-container matColumnDef="acciones">
                     <th *matHeaderCellDef>Acciones</th>
                     <td mat-cell class="td-acciones" *matCellDef="let row">
                        <div class="acciones-container">
                           <img class="edit-button fakeButton" src="../../../assets/icons/editBlack12.svg" (click)="administrarReceta(row)" alt="" />
                        </div>
                     </td>
                  </ng-container>

                  <tr mat-header-row *matHeaderRowDef="displayedColumnsReceta"></tr>
                  <tr mat-row *matRowDef="let row; columns: displayedColumnsReceta"></tr>
               </table>
               } @else if (sinDatosReceta){
               <div class="divNoData">
                  <h3>No hay recetas propuestas para revisar</h3>
               </div>
               } @else {
               <div class="loading-container">
                  <mat-spinner></mat-spinner>
                  <p>Buscando propuestas que revisar...</p>
               </div>
               }
            </div>
         </p-accordionTab>
      </p-accordion>
   </div>
   }@else {
   <div class="loading-container">
      <mat-spinner></mat-spinner>
      <p>Buscando propuestas que revisar...</p>
   </div>
   }
</div>
